<div class="modal fade" id="citation_modal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <h2>Create a new citation</h2>

        <form action="/create_citation" method="post">
          {% with messages = get_flashed_messages() %}
            {% if messages %}
              <ul>
              {% for message in messages %}
                <li>{{ message }}</li>
              {% endfor %}
              </ul>
            {% endif %}
          {% endwith %}
        
          <select class="form-select" aria-label="Select citation type" name="citation-type" id="citation-type" onchange="updateFormAfterTypeChange(this)">
            <option value="article" selected>article</option>
            {% for option in types %}
              <option value="{{ option }}">{{ option }}</option>
            {% endfor %}
          </select>

          <div id="field-cotainer-new">
            <div id="mandatory-fields-new"></div>
            <div id="optional-fields-new"></div>
          </div>

          <div>
            Add a field <br>
            <label for="add-field-new">The name of the field:</label>
            <input type="text" name="add-field-new" id="add-field-new">
            <input type="button" value="Add" onclick="addNewField()">
          </div>

          <input type="hidden" id="all-fields-new" name="all-fields-new" value="">

          <button type="submit" class="btn btn-primary" name="create">Create</button>
        </form>
      </div>
    </div>
  </div>
</div>
