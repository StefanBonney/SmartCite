{% extends "layout.html" %}

{% block title %}
Citation App
{% endblock %}

{% block body %}
<h2 class="mb-4">Recent citations</h2>
<!-- Versio 1 -->
{% if citations|length > 0 %}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>#</th>
                <th>Cite Key</th>
                <th>Type</th>
                <th>Author</th>
                <th>Title</th>
                <th>Year</th>
                <th class="text-end">Actions</th> <!-- Align right vika kolumni -->
            </tr>
        </thead>
        <tbody>
            {% for citation in citations %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ citation.citation_key }}</td>
                <td>{{ citation.citation_type }}</td>
                <td>{{ citation.fields.get('author', 'N/A') }}</td>
                <td>{{ citation.fields.get('title', 'N/A') }}</td>
                <td>{{ citation.fields.get('year', 'N/A') }}</td>
                <td class="text-end">
                    <a href="#" class="btn btn-success btn-sm">Show</a>
                    <a href="#" class="btn btn-primary btn-sm">Cite</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>


    
{% else %}
    <p class="alert alert-warning">You haven't added any citations yet.</p>
{% endif %}

<a href="/new_citation" class="btn btn-primary">Create new citation</a>
{% endblock %}
